#!/bin/bash

#make sure all output directories are present
cat outputs_folder.list | xargs mkdir > /dev/null 2>&1

#STS 2014 (task10) simulation with DBPedia lookups:
#---Training
#for *OnWN:
java7 -Xmx3g -jar dist/ASAP-Project.jar -i "input/STS.input.OnWN.2012.txt;input/STS.gs.OnWN.2012.txt" -i "input/STS.input.OnWN.2013.txt;input/STS.gs.OnWN.2013.txt" -ll -lg -lt -lflf "outputs/2014-task10/simulation6/OnWN/LemmasFoundInDBP-train.log" -lpef "outputs/2014-task10/simulation6/OnWN/errors/training.log" -p -mt 12 -o "outputs/2014-task10/simulation6/OnWN/predictions/STS.OnWN.txt" -mo "outputs/2014-task10/simulation6/weka-models-OnWN" -fo "outputs/2014-task10/simulation6/OnWN/features-sts2014-OnWN-train.txt" -tof "outputs/2014-task10/simulation6/OnWN/preprocessed-OnWN-train.txt" -llf "outputs/2014-task10/simulation6/OnWN/LemmasNotFound-OnWN-train.log" -lgf "outputs/2014-task10/simulation6/OnWN/GrammarCounters-OnWN-train.log" -lt -ltf "outputs/2014-task10/simulation6/OnWN/Timings-OnWN-train.log" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-OnWN-train.log

# *headlines:
java7 -Xmx3g -jar dist/ASAP-Project.jar -i "input/STS.input.headlines.2013.txt;input/STS.gs.headlines.2013.txt" -ll -lg -lt -lflf "outputs/2014-task10/simulation6/headlines/LemmasFoundInDBP-headlines-train.log" -lpef "outputs/2014-task10/simulation6/headlines/errors/training.log" -p -mt 12 -o "outputs/2014-task10/simulation6/headlines/predictions/STS.headlines-train.txt" -mo "outputs/2014-task10/simulation6/weka-models-headlines" -fo "outputs/2014-task10/simulation6/headlines/features-sts2014-headlines-train.txt" -tof "outputs/2014-task10/simulation6/headlines/preprocessed-headlines-train.txt" -llf "outputs/2014-task10/simulation6/headlines/LemmasNotFound-headlines-train.log" -lgf "outputs/2014-task10/simulation6/headlines/GrammarCounters-headlines-train.log" -lt -ltf "outputs/2014-task10/simulation6/headlines/Timings-headlines-train.log" -lnerf "outputs/2014-task10/simulation6/headlines/NamedEntitiesFound-headlines-train.log" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-headlines-train.log

# *deft-news trained with SMTnews
java7 -Xmx3g -jar dist/ASAP-Project.jar -i "input/STS.input.SMTnews.2012.txt;input/STS.gs.SMTnews.2012.txt" -ll -lg -lt -lflf "outputs/2014-task10/simulation6/deft-news/LemmasFoundInDBP-deft-news-train.log" -lpef "outputs/2014-task10/simulation6/deft-news/errors/training.log" -p -mt 12 -o "outputs/2014-task10/simulation6/deft-news/predictions/STS.deft-news.txt" -mo "outputs/2014-task10/simulation6/weka-models-deft-news" -fo "outputs/2014-task10/simulation6/deft-news/features-sts2014-deft-news-train.txt" -tof "outputs/2014-task10/simulation6/deft-news/preprocessed-deft-news-train.txt" -llf "outputs/2014-task10/simulation6/deft-news/LemmasNotFound-deft-news-train.log" -lgf "outputs/2014-task10/simulation6/deft-news/GrammarCounters-deft-news-train.log" -lt -ltf "outputs/2014-task10/simulation6/deft-news/Timings-deft-news-train.log" -lnerf "outputs/2014-task10/simulation6/NamedEntitiesFound-deft-news-train.log" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-deft-news-train.log

# *images trained with MSRvid:
java7 -Xmx3g -jar dist/ASAP-Project.jar -i "input/STS.input.MSRvid.2012.txt;input/STS.gs.MSRvid.2012.txt" -ll -lg -lt -lflf "outputs/2014-task10/simulation6/images/LemmasFoundInDBP-images-train.log" -lpef "outputs/2014-task10/simulation6/images/errors/training.log" -p -mt 12 -o "outputs/2014-task10/simulation6/images/predictions/STS.images-train.txt" -mo "outputs/2014-task10/simulation6/weka-models-images" -fo "outputs/2014-task10/simulation6/images/features-sts2014-images-train.txt" -tof "outputs/2014-task10/simulation6/images/preprocessed-images-train.txt" -llf "outputs/2014-task10/simulation6/images/LemmasNotFound-images-train.log" -lgf "outputs/2014-task10/simulation6/images/GrammarCounters-images-train.log" -lt -ltf "outputs/2014-task10/simulation6/images/Timings-images-train.log" -lnerf "outputs/2014-task10/simulation6/images/NamedEntitiesFound-images-train.log" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-images-train.log

#the same but together with MSRpar

#for *OnWN:
java7 -Xmx3g -jar dist/ASAP-Project.jar -i "input/STS.input.MSRpar.2012.txt;input/STS.gs.MSRpar.2012.txt" -i "input/STS.input.OnWN.2012.txt;input/STS.gs.OnWN.2012.txt" -i "input/STS.input.OnWN.2013.txt;input/STS.gs.OnWN.2013.txt" -ll -lg -lt -lflf "outputs/2014-task10/simulation6/OnWN2/LemmasFoundInDBP-train.log" -lpef "outputs/2014-task10/simulation6/OnWN2/errors/training.log" -p -mt 12 -o "outputs/2014-task10/simulation6/OnWN2/predictions/STS.OnWN.txt" -mo "outputs/2014-task10/simulation6/weka-models-OnWN2" -fo "outputs/2014-task10/simulation6/OnWN2/features-sts2014-OnWN-train.txt" -tof "outputs/2014-task10/simulation6/OnWN2/preprocessed-OnWN-train.txt" -llf "outputs/2014-task10/simulation6/OnWN2/LemmasNotFound-OnWN-train.log" -lgf "outputs/2014-task10/simulation6/OnWN2/GrammarCounters-OnWN-train.log" -lt -ltf "outputs/2014-task10/simulation6/OnWN2/Timings-OnWN-train.log" -lnerf "outputs/2014-task10/simulation6/OnWN2/NamedEntitiesFound-OnWN-train.log" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-OnWN2-train.log

# *headlines:
java7 -Xmx3g -jar dist/ASAP-Project.jar -i "input/STS.input.MSRpar.2012.txt;input/STS.gs.MSRpar.2012.txt" -i "input/STS.input.headlines.2013.txt;input/STS.gs.headlines.2013.txt" -ll -lg -lt -lflf "outputs/2014-task10/simulation6/headlines2/LemmasFoundInDBP-headlines-train.log" -lpef "outputs/2014-task10/simulation6/headlines2/errors/training.log" -p -mt 12 -o "outputs/2014-task10/simulation6/headlines2/predictions/STS.headlines-train.txt" -mo "outputs/2014-task10/simulation6/weka-models-headlines2" -fo "outputs/2014-task10/simulation6/headlines2/features-sts2014-headlines-train.txt" -tof "outputs/2014-task10/simulation6/headlines2/preprocessed-headlines-train.txt" -llf "outputs/2014-task10/simulation6/headlines2/LemmasNotFound-headlines-train.log" -lgf "outputs/2014-task10/simulation6/headlines2/GrammarCounters-headlines-train.log" -lt -ltf "outputs/2014-task10/simulation6/headlines2/Timings-headlines-train.log" -lnerf "outputs/2014-task10/simulation6/headlines2/NamedEntitiesFound-headlines-train.log" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-headlines2-train.log

# *deft-news trained with SMTnews
java7 -Xmx3g -jar dist/ASAP-Project.jar -i "input/STS.input.MSRpar.2012.txt;input/STS.gs.MSRpar.2012.txt" -i "input/STS.input.SMTnews.2012.txt;input/STS.gs.SMTnews.2012.txt" -ll -lg -lt -lflf "outputs/2014-task10/simulation6/deft-news2/LemmasFoundInDBP-deft-news-train.log" -lpef "outputs/2014-task10/simulation6/deft-news2/errors/training.log" -p -mt 12 -o "outputs/2014-task10/simulation6/deft-news2/predictions/STS.deft-news.txt" -mo "outputs/2014-task10/simulation6/weka-models-deft-news2" -fo "outputs/2014-task10/simulation6/deft-news2/features-sts2014-deft-news-train.txt" -tof "outputs/2014-task10/simulation6/deft-news2/preprocessed-deft-news-train.txt" -llf "outputs/2014-task10/simulation6/deft-news2/LemmasNotFound-deft-news-train.log" -lgf "outputs/2014-task10/simulation6/deft-news2/GrammarCounters-deft-news-train.log" -lt -ltf "outputs/2014-task10/simulation6/deft-news2/Timings-deft-news-train.log" -lnerf "outputs/2014-task10/simulation6/NamedEntitiesFound-deft-news-train.log" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-deft-news2-train.log

# *images trained with MSRvid:
java7 -Xmx3g -jar dist/ASAP-Project.jar -i "input/STS.input.MSRpar.2012.txt;input/STS.gs.MSRpar.2012.txt" -i "input/STS.input.MSRvid.2012.txt;input/STS.gs.MSRvid.2012.txt" -ll -lg -lt -lflf "outputs/2014-task10/simulation6/images2/LemmasFoundInDBP-images-train.log" -lpef "outputs/2014-task10/simulation6/images2/errors/training.log" -p -mt 12 -o "outputs/2014-task10/simulation6/images2/predictions/STS.images-train.txt" -mo "outputs/2014-task10/simulation6/weka-models-images2" -fo "outputs/2014-task10/simulation6/images2/features-sts2014-images-train.txt" -tof "outputs/2014-task10/simulation6/images2/preprocessed-images-train.txt" -llf "outputs/2014-task10/simulation6/images2/LemmasNotFound-images-train.log" -lgf "outputs/2014-task10/simulation6/images2/GrammarCounters-images-train.log" -lt -ltf "outputs/2014-task10/simulation6/images2/Timings-images-train.log" -lnerf "outputs/2014-task10/simulation6/images2/NamedEntitiesFound-images-train.log" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-images2-train.log




#---Evaluation
#*OnWN
java7 -Xmx3g -jar dist/ASAP-Project.jar -t "input/STS.input.OnWN.2014.txt;input/STS.gs.OnWN.2014.txt" -p -mt 12 -lflf "outputs/2014-task10/simulation6/OnWN/LemmasFoundInDBP-OnWN-eval.log" -lpef "outputs/2014-task10/simulation6/OnWN/errors/evaluation.log" -o "outputs/2014-task10/simulation6/OnWN/predictions/STS.OnWN-eval.txt" -mi "outputs/2014-task10/simulation6/weka-models-OnWN" -llf "outputs/2014-task10/simulation6/OnWN/LemmasNotFound-eval.log" -lgf "outputs/2014-task10/simulation6/OnWN/GrammarCounters-eval.log" -lt -ltf "outputs/2014-task10/simulation6/OnWN/Timings-eval.log" -lnerf "outputs/2014-task10/simulation6/OnWN/NamedEntitiesFound-eval.log" -fo "outputs/2014-task10/simulation6/OnWN/features-sts2014-OnWN-eval.txt" -tof "outputs/2014-task10/simulation6/OnWN/preprocessed-OnWN-eval.txt" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-OnWN-eval.log

java7 -Xmx3g -jar dist/ASAP-Project.jar -t "input/STS.input.OnWN.2014.txt;input/STS.gs.OnWN.2014.txt" -p -mt 12 -lflf "outputs/2014-task10/simulation6/OnWN2/LemmasFoundInDBP-OnWN-eval.log" -lpef "outputs/2014-task10/simulation6/OnWN2/errors/evaluation.log" -o "outputs/2014-task10/simulation6/OnWN2/predictions/STS.OnWN-eval.txt" -mi "outputs/2014-task10/simulation6/weka-models-OnWN2" -llf "outputs/2014-task10/simulation6/OnWN2/LemmasNotFound-eval.log" -lgf "outputs/2014-task10/simulation6/OnWN2/GrammarCounters-eval.log" -lt -ltf "outputs/2014-task10/simulation6/OnWN2/Timings-eval.log" -lnerf "outputs/2014-task10/simulation6/OnWN2/NamedEntitiesFound-eval.log" -fo "outputs/2014-task10/simulation6/OnWN2/features-sts2014-OnWN-eval.txt" -tof "outputs/2014-task10/simulation6/OnWN2/preprocessed-OnWN-eval.txt" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-OnWN2-eval.log


#*headlines
java7 -Xmx3g -jar dist/ASAP-Project.jar -t "input/STS.input.headlines.2014.txt;input/STS.gs.headlines.2014.txt" -p -mt 12 -lflf "outputs/2014-task10/simulation6/headlines/LemmasFoundInDBP-headlines-eval.log" -lpef "outputs/2014-task10/simulation6/headlines/errors/evaluation.log" -o "outputs/2014-task10/simulation6/headlines/predictions/STS.headlines-eval.txt" -mi "outputs/2014-task10/simulation6/weka-models-headlines" -llf "outputs/2014-task10/simulation6/headlines/LemmasNotFound-eval.log" -lgf "outputs/2014-task10/simulation6/headlines/GrammarCounters-eval.log" -lt -ltf "outputs/2014-task10/simulation6/headlines/Timings-eval.log" -lnerf "outputs/2014-task10/simulation6/headlines/NamedEntitiesFound-eval.log" -fo "outputs/2014-task10/simulation6/headlines/features-sts2014-headlines-eval.txt" -tof "outputs/2014-task10/simulation6/headlines/preprocessed-headlines-eval.txt" -fo "outputs/2014-task10/simulation6/headlines/features-sts2014-headlines-eval.txt" -tof "outputs/2014-task10/simulation6/headlines/preprocessed-headlines-eval.txt" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-headlines-eval.log


java7 -Xmx3g -jar dist/ASAP-Project.jar -t "input/STS.input.headlines.2014.txt;input/STS.gs.headlines.2014.txt" -p -mt 12 -lflf "outputs/2014-task10/simulation6/headlines2/LemmasFoundInDBP-headlines-eval.log" -lpef "outputs/2014-task10/simulation6/headlines2/errors/evaluation.log" -o "outputs/2014-task10/simulation6/headlines2/predictions/STS.headlines-eval.txt" -mi "outputs/2014-task10/simulation6/weka-models-headlines2" -llf "outputs/2014-task10/simulation6/headlines2/LemmasNotFound-eval.log" -lgf "outputs/2014-task10/simulation6/headlines2/GrammarCounters-eval.log" -lt -ltf "outputs/2014-task10/simulation6/headlines2/Timings-eval.log" -lnerf "outputs/2014-task10/simulation6/headlines2/NamedEntitiesFound-eval.log" -fo "outputs/2014-task10/simulation6/headlines2/features-sts2014-headlines-eval.txt" -tof "outputs/2014-task10/simulation6/headlines2/preprocessed-headlines-eval.txt" -fo "outputs/2014-task10/simulation6/headlines2/features-sts2014-headlines-eval.txt" -tof "outputs/2014-task10/simulation6/headlines2/preprocessed-headlines-eval.txt" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-headlines2-eval.log


#*deft-news
java7 -Xmx3g -jar dist/ASAP-Project.jar -t "input/STS.input.deft-news.2014.txt;input/STS.gs.deft-news.2014.txt" -p -mt 12 -lflf "outputs/2014-task10/simulation6/deft-news/LemmasFoundInDBP-deft-news-eval.log" -lpef "outputs/2014-task10/simulation6/deft-news/errors/evaluation.log" -o "outputs/2014-task10/simulation6/deft-news/predictions/STS.deft-news-eval.txt" -mi "outputs/2014-task10/simulation6/weka-models-deft-news" -llf "outputs/2014-task10/simulation6/deft-news/LemmasNotFound-eval.log" -lgf "outputs/2014-task10/simulation6/deft-news/GrammarCounters-eval.log" -lt -ltf "outputs/2014-task10/simulation6/deft-news/Timings-eval.log" -lnerf "outputs/2014-task10/simulation6/deft-news/NamedEntitiesFound-eval.log" -fo "outputs/2014-task10/simulation6/deft-news/features-sts2014-deft-news-eval.txt" -tof "outputs/2014-task10/simulation6/deft-news/preprocessed-deft-news-eval.txt" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-deft-news-eval.log

java7 -Xmx3g -jar dist/ASAP-Project.jar -t "input/STS.input.deft-news.2014.txt;input/STS.gs.deft-news.2014.txt" -p -mt 12 -lflf "outputs/2014-task10/simulation6/deft-news2/LemmasFoundInDBP-deft-news-eval.log" -lpef "outputs/2014-task10/simulation6/deft-news2/errors/evaluation.log" -o "outputs/2014-task10/simulation6/deft-news2/predictions/STS.deft-news-eval.txt" -mi "outputs/2014-task10/simulation6/weka-models-deft-news2" -llf "outputs/2014-task10/simulation6/deft-news2/LemmasNotFound-eval.log" -lgf "outputs/2014-task10/simulation6/deft-news2/GrammarCounters-eval.log" -lt -ltf "outputs/2014-task10/simulation6/deft-news2/Timings-eval.log" -lnerf "outputs/2014-task10/simulation6/deft-news2/NamedEntitiesFound-eval.log" -fo "outputs/2014-task10/simulation6/deft-news2/features-sts2014-deft-news-eval.txt" -tof "outputs/2014-task10/simulation6/deft-news2/preprocessed-deft-news-eval.txt" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-deft-news2-eval.log


#*images
java7 -Xmx3g -jar dist/ASAP-Project.jar -t "input/STS.input.images.2014.txt;input/STS.gs.images.2014.txt" -p -mt 12 -lflf "outputs/2014-task10/simulation6/images/LemmasFoundInDBP-images-eval.log" -lpef "outputs/2014-task10/simulation6/images/errors/evaluation.log" -o "outputs/2014-task10/simulation6/images/predictions/STS.images-eval.txt" -mi "outputs/2014-task10/simulation6/weka-models-images" -llf "outputs/2014-task10/simulation6/images/LemmasNotFound-eval.log" -lgf "outputs/2014-task10/simulation6/images/GrammarCounters-eval.log" -lt -ltf "outputs/2014-task10/simulation6/images/Timings-eval.log" -lnerf "outputs/2014-task10/simulation6/images/NamedEntitiesFound-eval.log" -fo "outputs/2014-task10/simulation6/images/features-sts2014-images-eval.txt" -tof "outputs/2014-task10/simulation6/images/preprocessed-images-eval.txt" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-images-eval.log

java7 -Xmx3g -jar dist/ASAP-Project.jar -t "input/STS.input.images.2014.txt;input/STS.gs.images.2014.txt" -p -mt 12 -lflf "outputs/2014-task10/simulation6/images2/LemmasFoundInDBP-images-eval.log" -lpef "outputs/2014-task10/simulation6/images2/errors/evaluation.log" -o "outputs/2014-task10/simulation6/images2/predictions/STS.images-eval.txt" -mi "outputs/2014-task10/simulation6/weka-models-images2" -llf "outputs/2014-task10/simulation6/images2/LemmasNotFound-eval.log" -lgf "outputs/2014-task10/simulation6/images2/GrammarCounters-eval.log" -lt -ltf "outputs/2014-task10/simulation6/images2/Timings-eval.log" -lnerf "outputs/2014-task10/simulation6/images2/NamedEntitiesFound-eval.log" -fo "outputs/2014-task10/simulation6/images2/features-sts2014-images-eval.txt" -tof "outputs/2014-task10/simulation6/images2/preprocessed-images-eval.txt" -ssaroplprev 1000000000000 | tee outputs/2014-task10/simulation6/run-images2-eval.log

#get correlations:
grep "Best correlation =" outputs/2014-task10/simulation6/run*eval*.log | tee outputs/2014-task10/simulation6/best-correlations.log


#deft-forum and tweet-news left out...





#STS 2014 (task10) simulation WITHOUT DBPedia lookups:


